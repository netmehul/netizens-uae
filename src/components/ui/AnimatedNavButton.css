.btn-wrapper {
  position: relative;
  display: inline-block;
}

.btn {
  /* Using standard rounding and header button sizes.
     Size/padding from the existing Header Button: px-5 py-2.5 md:px-6 md:py-3 (sm variant) */
  --border-radius: 4px;
  /* The rounded class from Tailwind usually maps to 4px. We will enforce this via Tailwind classes but keep this variable for the pseudo-elements */
  --transition: 0.4s;
  --button-color: #0E3572;
  /* regal-navy */
  --highlight-color-hue: 210deg;

  user-select: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;

  /* Inherit padding from Tailwind classes applied directly to the button element to keep original sizing */
  /* padding: 0.5em 0.5em 0.5em 1.1em; */

  font-family: inherit;
  /* "Plus_Jakarta_Sans", sans-serif */
  font-weight: 600;

  background-color: var(--button-color);

  /* Original box-shadow effect from Uiverse design */
  box-shadow:
    inset 0px 1px 1px rgba(255, 255, 255, 0.2),
    inset 0px 2px 2px rgba(255, 255, 255, 0.15),
    inset 0px 4px 4px rgba(255, 255, 255, 0.1),
    inset 0px 8px 8px rgba(255, 255, 255, 0.05),
    inset 0px 16px 16px rgba(255, 255, 255, 0.05),
    0px -1px 1px rgba(0, 0, 0, 0.02),
    0px -2px 2px rgba(0, 0, 0, 0.03),
    0px -4px 4px rgba(0, 0, 0, 0.05),
    0px -8px 8px rgba(0, 0, 0, 0.06),
    0px -16px 16px rgba(0, 0, 0, 0.08);

  border: solid 1px #fff2;
  border-radius: var(--border-radius);
  cursor: pointer;

  transition:
    box-shadow var(--transition),
    border var(--transition),
    background-color var(--transition);
}

.btn::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: var(--border-radius);
  pointer-events: none;
  background-image: linear-gradient(0deg, #0004, #000a);
  z-index: -1;
  transition:
    box-shadow var(--transition),
    filter var(--transition);
  box-shadow:
    0 -8px 8px -6px #0000 inset,
    0 -16px 16px -8px #00000000 inset,
    1px 1px 1px #fff2,
    2px 2px 2px #fff1,
    -1px -1px 1px #0002,
    -2px -2px 2px #0001;
}

.btn::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: inherit;
  pointer-events: none;
  background-image: linear-gradient(0deg,
      #fff,
      hsl(var(--highlight-color-hue), 100%, 70%),
      hsla(var(--highlight-color-hue), 100%, 70%, 50%),
      8%,
      transparent);
  background-position: 0 0;
  opacity: 0;
  transition:
    opacity var(--transition),
    filter var(--transition);
}

.btn-letter {
  position: relative;
  display: inline-block;
  color: #fff5;
  animation: letter-anim 2s ease-in-out infinite;
  transition:
    color var(--transition),
    text-shadow var(--transition),
    opacity var(--transition);
}

@keyframes letter-anim {
  50% {
    text-shadow: 0 0 3px #fff8;
    color: #fff;
  }
}

.btn-svg {
  flex-shrink: 0;
  /* Prevent the SVG from shrinking */
  height: 20px;
  /* Reduced to match original button arrow size appropriately */
  margin-right: 0.5rem;
  fill: #e8e8e8;
  animation: flicker 2s linear infinite;
  animation-delay: 0.5s;
  filter: drop-shadow(0 0 2px #fff9);
  transition:
    fill var(--transition),
    filter var(--transition),
    opacity var(--transition);
}

@keyframes flicker {
  50% {
    opacity: 0.3;
  }
}

/* Focus state */
.txt-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.txt-1,
.txt-2 {
  position: absolute;
  word-spacing: -1em;
  white-space: nowrap;
  /* Keep text on one line */
  display: flex;
  /* Helps perfectly align letters if there's any odd rendering */
}

.txt-1 {
  animation: appear-anim 1s ease-in-out forwards;
}

.txt-2 {
  opacity: 0;
}

@keyframes appear-anim {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}

.btn:hover .txt-1,
.btn:focus .txt-1 {
  animation: opacity-anim 0.3s ease-in-out forwards;
  animation-delay: 1s;
}

.btn:hover .txt-2,
.btn:focus .txt-2 {
  animation: opacity-anim 0.3s ease-in-out reverse forwards;
  animation-delay: 1s;
}

@keyframes opacity-anim {
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
}

.btn:hover .btn-letter,
.btn:focus .btn-letter {
  animation:
    focused-letter-anim 1s ease-in-out forwards,
    letter-anim 1.2s ease-in-out infinite;
  animation-delay: 0s, 1s;
}

@keyframes focused-letter-anim {

  0%,
  100% {
    filter: blur(0px);
  }

  50% {
    transform: scale(1.5);
    /* Scale down a bit to prevent crazy layout shifts */
    filter: blur(10px) brightness(150%) drop-shadow(-36px 12px 12px hsl(var(--highlight-color-hue), 100%, 70%));
  }
}

.btn:hover .btn-svg,
.btn:focus .btn-svg {
  animation-duration: 1.2s;
  animation-delay: 0.2s;
}

.btn:hover::before,
.btn:focus::before {
  box-shadow:
    0 -8px 12px -6px #fff3 inset,
    0 -16px 16px -8px hsla(var(--highlight-color-hue), 100%, 70%, 20%) inset,
    1px 1px 1px #fff3,
    2px 2px 2px #fff1,
    -1px -1px 1px #0002,
    -2px -2px 2px #0001;
}

.btn:hover::after,
.btn:focus::after {
  opacity: 0.6;
  mask-image: linear-gradient(0deg, #fff, transparent);
  filter: brightness(100%);
}

/* Base animation delays */
.btn-letter:nth-child(1) {
  animation-delay: 0s;
}

.btn-letter:nth-child(2) {
  animation-delay: 0.08s;
}

.btn-letter:nth-child(3) {
  animation-delay: 0.16s;
}

.btn-letter:nth-child(4) {
  animation-delay: 0.24s;
}

.btn-letter:nth-child(5) {
  animation-delay: 0.32s;
}

.btn-letter:nth-child(6) {
  animation-delay: 0.4s;
}

.btn-letter:nth-child(7) {
  animation-delay: 0.48s;
}

.btn-letter:nth-child(8) {
  animation-delay: 0.56s;
}

.btn-letter:nth-child(9) {
  animation-delay: 0.64s;
}

.btn-letter:nth-child(10) {
  animation-delay: 0.72s;
}

.btn-letter:nth-child(11) {
  animation-delay: 0.8s;
}

.btn-letter:nth-child(12) {
  animation-delay: 0.88s;
}

.btn-letter:nth-child(13) {
  animation-delay: 0.96s;
}

/* ... and so on for arbitrarily long text, we'll assign these dynamically in React if needed */

/* Active state */
.btn:active {
  border: solid 1px hsla(var(--highlight-color-hue), 100%, 80%, 70%);
  background-color: hsla(var(--highlight-color-hue), 50%, 20%, 0.5);
}

.btn:active::before {
  box-shadow:
    0 -8px 12px -6px #fffa inset,
    0 -16px 16px -8px hsla(var(--highlight-color-hue), 100%, 70%, 80%) inset,
    1px 1px 1px #fff4,
    2px 2px 2px #fff2,
    -1px -1px 1px #0002,
    -2px -2px 2px #0001;
}

.btn:active::after {
  opacity: 1;
  mask-image: linear-gradient(0deg, #fff, transparent);
  filter: brightness(200%);
}

.btn:active .btn-letter {
  text-shadow: 0 0 1px hsla(var(--highlight-color-hue), 100%, 90%, 90%);
  animation: none;
}